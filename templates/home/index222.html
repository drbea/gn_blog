<!-- {% extends "base.html" %}
{% load static %}
{% block title %} actualité {% endblock %}

{% block css %}
 <!-- <link href="{% static 'css/index.css' %}" rel="stylesheet"> -->
 <style media="screen">


   .avatar {
     position: relative;
     display: inline-block;
     border-radius: 50%;
     border: 2px solid var(--color-main);
   }

   .avatar img {
     display: block;
     border-radius: 50%;
     object-fit: cover;
     object-position: center;
   }

   .avatar::after {
     content: "";
     display: block;
     position: absolute;
     background-color: var(--color-gray);
     z-index: 111;
     border-radius: 50%;
     border: 0.3rem solid var(--color-dark);
   }

   .avatar.active::after {
     background-color: var(--color-success);
   }

   .avatar.avatar--small img {
     width: 2.8rem;
     height: 2.8rem;
   }

   .avatar.avatar--small:after {
     width: 0.7rem;
     height: 0.7rem;
     bottom: 0px;
     right: -6px;
   }

   .avatar.avatar--medium img {
     width: 3.6rem;
     height: 3.6rem;
     border-radius: 50%;
   }

   .avatar.avatar--medium:after {
     width: 0.7rem;
     height: 0.7rem;
     bottom: 0px;
     right: -6px;
   }

   .avatar.avatar--large img {
     display: block;
     width: 8rem;
     height: 8rem;
     border-radius: 50%;
   }

   .avatar.avatar--large:after {
     width: 1rem;
     height: 1rem;
     bottom: 2px;
     right: 3.5px;
   }

   .btn_2 {
    background-color: none;
    padding: 5px 10px;
    border-radius: 5px;
    box-shadow: 2px 2px 2px 1px rgb(0 0 0 / 30%);
    cursor: pointer;
   }

   
 </style>
{% endblock %}
{% block content %}


    <div class="container-fluid">
        <div class="row" >
             <!-- Milieu - Fil d'actualité -->
            <div class="col-md-8">
                <div class="roomList">
                    <!-- <div class="mobile-menu">
                        <form class="header__search">
                            <label>
                                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                                    <title>search</title>
                                    <path
                                        d="M32 30.586l-10.845-10.845c1.771-2.092 2.845-4.791 2.845-7.741 0-6.617-5.383-12-12-12s-12 5.383-12 12c0 6.617 5.383 12 12 12 2.949 0 5.649-1.074 7.741-2.845l10.845 10.845 1.414-1.414zM12 22c-5.514 0-10-4.486-10-10s4.486-10 10-10c5.514 0 10 4.486 10 10s-4.486 10-10 10z"
                                    ></path>
                                </svg>
                                <input placeholder="Search for posts" />
                            </label>
                        </form>
                        <div class="mobile-menuItems">
                            <a class="btn btn-primary btn-pill" href="#">Browse Topics</a>
                            <a class="btn btn-primary btn-pill" href="#">Recent Activities</a>
                        </div>
                    </div> -->
                    <div class="roomList__header" style="display: flex; margin-top: 15px;">
                        <div>
                            <h2 style="text-shadow: 2px 2px 4px #1077ed(245, 241, 241, 0.3); font-size: 2.5em; color: #0773de;">Fil d'actualité</h2>
                            <p>{{publications.count }} Publications</p>
                        </div>
                        <div style="margin-left: 275px;">
                            <a class="btn btn-primary" href="{% url 'home:create_publication' %}" style="box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); transition: all 0.3s ease; display: flex; align-items: center;">
                                <i class="fas fa-plus" style="margin-right: 8px;"></i> Créer une Publication
                            </a>
                        </div>
                        <style>
                            .btn-primary:hover {
                                background-color: #1177e5; /* Change la couleur au survol */
                                transform: scale(1.05); /* Agrandit le bouton au survol */
                            }
                        </style>
                    </div>

                    <!-- Exemple de publication -->
                    {% for post in publications %}
                    <!DOCTYPE html>
                    <html lang="en">
                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>Mon Projet</title>
                        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
                        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
                        <style>
                            body {
                                background-color: #f9f9f9; /* Couleur de fond gris clair */
                                font-family: 'Roboto', sans-serif;
                            }
                            .roomListRoom {
                                border: 1px solid #ddd;
                                border-radius: 10px;
                                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                                margin-bottom: 20px;
                                transition: transform 0.3s ease;
                            }
                            .roomListRoom:hover {
                                transform: translateY(-5px);
                            }
                            .roomListRoom__header {
                                background-color: #f0f0f0;
                                border-bottom: 1px solid #ddd;
                                padding: 15px;
                            }
                            .roomListRoom__content {
                                padding: 20px;
                            }
                            .roomListRoom__meta {
                                background-color: #f0f0f0;
                                border-top: 1px solid #ddd;
                                padding: 15px;
                            }
                            .roomListRoom__author {
                                text-decoration: none;
                                color: #333;
                            }
                            .avatar {
                                margin-right: 10px;
                            }
                            .avatar img {
                                width: 40px;
                                height: 40px;
                                border-radius: 50%;
                            }
                            .roomListRoom__actions {
                                color: #888;
                            }
                            .roomListRoom__content h1 {
                                font-size: 1.5em;
                                margin-bottom: 10px;
                            }
                            .roomListRoom__content p {
                                color: #555;
                            }
                            .roomListRoom__meta a {
                                text-decoration: none;
                                color: #333;
                                margin-right: 20px;
                                transition: color 0.3s ease;
                            }
                            .roomListRoom__meta a:hover {
                                color: #1177e5;
                            }
                            .roomListRoom__meta i {
                                margin-right: 5px;
                            }
                            .roomListRoom__topic {
                                color: #888;
                            }
                        </style>
                    </head>
                    <body>
                        <div id="spinner" class="bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
                            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                                <span class="sr-only">Chargement...</span>
                            </div>
                        </div>
                    
                        <!-- Votre contenu ici -->
                        <div class="roomListRoom card mb-3">
                            <div class="roomListRoom__header card-header d-flex justify-content-between align-items-center">
                                <a href="profile.html" class="roomListRoom__author d-flex align-items-center">
                                    <div class="avatar avatar--small">
                                        <img src="https://randomuser.me/api/portraits/men/1.jpg" />
                                    </div>
                                    <span>@{{ post.autheur.username}}</span>
                                </a>
                                <div class="roomListRoom__actions">
                                    <span>{{post.date_creation }} ago</span>
                                </div>
                            </div>
                            <div class="roomListRoom__content card-body">
                                <h1><a href="{% url 'home:detail_publication' post.id %}">{{ post.sujet }}</a></h1>
                                <p>
                                    {{ post.contenu }}.
                                </p>
                            </div>
                            <div class="roomListRoom__meta card-footer d-flex justify-content-between align-items-center">
                                <a href="{% url 'home:react_to_publication' post.id 'like' %}">
                                    <i class="fas fa-thumbs-up"></i> J'aime
                                </a>
                                <a href="{% url 'home:react_to_publication' post.id 'jadore' %}" class="d-flex align-items-center">
                                    <i class="far fa-heart heart-icon mr-2"></i> j'adore
                                </a>
                                <a href="{% url 'home:react_to_publication' post.id 'partager' %}">
                                    <i class="fas fa-share"></i> Partager
                                </a>
                                <p class="roomListRoom__topic"> {{ post.category }}</p>
                            </div>
                            <a class="roomListRoom__topic" href="{% url 'home:delete_publication' post.id %}"></a>
                        </div>
                    
                        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
                        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
                        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
                    </body>
                    </html>
                    {% endfor %}
                </div>
            </div>
            
            <!-- Sidebar Gauche - Categories -->
            <div class="col-md-3" style="margin-top: 15px;">
                <div class="topics">
                    <div class="topics__header">
                        <h2>Categories</h2>
                    </div>
                    <ul class="topics__list list-group">
                        <li class="list-group-item">
                            <a href="{% url 'home:index' %}" class="active">Toutes les categories <span>({{ categories.count }})</span></a>
                        </li>
                        {% for category in categories %}
                        <li class="list-group-item">
                            <a href="{% url 'home:type_categorie' category.id %}"> {{category.titre }}<span></span></a>
                        </li>
                        {% endfor %}

                    </ul>
                </div>
            </div>
            {% endfor %}

            <!-- Sidebar Droit - Activités -->
            <!-- <div class="col-md-3">
                <div class="activities">
                    <div class="activities__header">
                        <h2>Recent Activities</h2>
                    </div>
                    <div class="activities__box card mb-3">
                        <div class="activities__boxHeader roomListRoom__header card-header d-flex justify-content-between align-items-center">
                            <a href="profile.html" class="roomListRoom__author d-flex align-items-center">
                                <div class="avatar avatar--small">
                                    <img src="https://randomuser.me/api/portraits/women/11.jpg" />
                                </div>
                                <p>
                                    @sulamita_ivy
                                    <span>5 days ago</span>
                                </p>
                            </a>
                            <div class="roomListRoom__actions">
                                <a href="#">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                                        <title>remove</title>
                                        <path
                                            d="M27.314 6.019l-1.333-1.333-9.98 9.981-9.981-9.981-1.333 1.333 9.981 9.981-9.981 9.98 1.333 1.333 9.981-9.98 9.98 9.98 1.333-1.333-9.98-9.98 9.98-9.981z"
                                        ></path>
                                    </svg>
                                </a>
                            </div>
                        </div>
                        <div class="activities__boxContent card-body">
                            <p>replied to post “<a href="room.html">100 Days of code challenge!</a>”</p>
                            <div class="activities__boxRoomContent">
                                I’ll have to try this sometime. Really like this idea. Wanna talk about it? I ‘m....
                            </div>
                        </div>
                    </div>

                    <div class="activities__box card mb-3">
                        <div class="activities__boxHeader roomListRoom__header card-header d-flex justify-content-between align-items-center">
                            <a href="profile.html" class="roomListRoom__author d-flex align-items-center">
                                <div class="avatar avatar--small active">
                                    <img src="https://randomuser.me/api/portraits/men/13.jpg" />
                                </div>
                                <p>
                                    @mr_spshuvo
                                    <span>5 days ago</span>
                                </p>
                            </a>
                            <div class="roomListRoom__actions">
                                <a href="#">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                                        <title>remove</title>
                                        <path
                                            d="M27.314 6.019l-1.333-1.333-9.98 9.981-9.981-9.981-1.333 1.333 9.981 9.981-9.981 9.98 1.333 1.333 9.981-9.98 9.98 9.98 1.333-1.333-9.98-9.98 9.98-9.981z"
                                        ></path>
                                    </svg>
                                </a>
                            </div>
                        </div>
                        <div class="activities__boxContent card-body">
                            <p>replied to post “<a href="room.html">100 Days of code challenge!</a>”</p>
                            <div class="activities__boxRoomContent">
                                I’ll have to try this sometime. Really like this idea. Wanna talk about it? I ‘m....
                            </div>
                        </div>
                    </div>
                </div>
            </div> 
        </div>
    </div>
{% endblock %} -->
